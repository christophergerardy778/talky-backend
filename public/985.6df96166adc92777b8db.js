(self.webpackChunktalky=self.webpackChunktalky||[]).push([[985],{8985:(e,t,i)=>{"use strict";i.r(t),i.d(t,{WebModule:()=>_});var r=i(8583),o=i(8333),n=i(7716),a=i(2522),l=i(1095);let s=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-auth-toolbar"]],decls:7,vars:0,consts:[[1,"toolbar-wrapper","toolbar-custom","mat-elevation-z1"],["src","assets/img/logo.png","alt","logo","routerLink","/",1,"logo"],[1,"spacer"],["mat-stroked-button","","color","primary","routerLink","/login",1,"button-margin","button-border-color"],["mat-flat-button","","color","primary","routerLink","/sign-up"]],template:function(e,t){1&e&&(n.TgZ(0,"mat-toolbar",0),n._UZ(1,"img",1),n._UZ(2,"span",2),n.TgZ(3,"button",3),n._uU(4," Login "),n.qZA(),n.TgZ(5,"button",4),n._uU(6," Sign up "),n.qZA(),n.qZA())},directives:[a.Ye,o.rH,l.lW],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.toolbar-wrapper[_ngcontent-%COMP%]{padding:0 64px}.logo[_ngcontent-%COMP%]{max-width:115px;max-height:48px}.toolbar-custom[_ngcontent-%COMP%]{background-color:#fff}.button-margin[_ngcontent-%COMP%]{margin-right:18px}.button-border-color[_ngcontent-%COMP%]{border-color:#7479ed}"]}),e})(),c=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-web-layout"]],decls:2,vars:0,template:function(e,t){1&e&&(n._UZ(0,"app-auth-toolbar"),n._UZ(1,"router-outlet"))},directives:[s,o.lC],styles:[""]}),e})(),g=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-home"]],decls:11,vars:0,consts:[[1,"wrapper"],[1,"row","custom-row"],[1,"col-md-6"],[1,"title"],[1,"sub-text"],["mat-flat-button","","color","primary","routerLink","/sign-up",1,"button-call-to-action"],[1,"col-md-6","align-image"],["src","assets/img/tablet_app.png","alt","app use",1,"image-tablet"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"h1",3),n._uU(4," Connect with everyone "),n.qZA(),n.TgZ(5,"p",4),n._uU(6," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad atque consequatur, debitis deserunt doloremque dolores eveniet illum laboriosam molestiae nemo odit optio perferendis qui quo reiciendis rem tempore temporibus ullam. "),n.qZA(),n.TgZ(7,"button",5),n._uU(8," Create an account "),n.qZA(),n.qZA(),n.TgZ(9,"div",6),n._UZ(10,"img",7),n.qZA(),n.qZA(),n.qZA())},directives:[l.lW,o.rH],styles:[".title[_ngcontent-%COMP%]{color:#7479ed;font-size:64px;line-height:120%;font-weight:800}.sub-text[_ngcontent-%COMP%]{color:#747474;margin:0}.button-call-to-action[_ngcontent-%COMP%]{margin-top:24px;height:48px;min-width:240px;font-weight:700}.wrapper[_ngcontent-%COMP%]{padding:0 64px}.custom-row[_ngcontent-%COMP%]{display:flex;min-height:90vh;align-items:center}.align-image[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.image-tablet[_ngcontent-%COMP%]{max-width:90%}"]}),e})();var u=i(6304),p=i(3679),m=i(4241),d=i(2680);let h=(()=>{class e{constructor(e){this.data=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(d.WI))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-sign-in-error-dialog"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-close","","mat-flat-button","","color","primary"]],template:function(e,t){1&e&&(n.TgZ(0,"h2",0),n._uU(1),n.qZA(),n.TgZ(2,"mat-dialog-content"),n._uU(3),n.qZA(),n.TgZ(4,"mat-dialog-actions"),n.TgZ(5,"button",1),n._uU(6," Close "),n.qZA(),n.qZA()),2&e&&(n.xp6(1),n.Oqu(t.data.title),n.xp6(2),n.hij(" ",t.data.description,"\n"))},directives:[d.uh,d.xY,d.H8,l.lW,d.ZT],styles:[""]}),e})();var f=i(2597),Z=i(8295),y=i(9983);let b=(()=>{class e{constructor(e,t,i,r){this.formBuilder=e,this.authService=t,this.dialog=i,this.router=r,this.isLoading=!1,this.email=m.Q.EMAIL,this.google=m.Q.GOOGLE,this.twitter=m.Q.TWITTER,this.facebook=m.Q.FACEBOOK}ngOnInit(){this.loginForm=this.formBuilder.group({email:[null,[p.kI.required,p.kI.minLength(6),p.kI.email]],password:[null,[p.kI.required,p.kI.minLength(6)]]})}emailLoginUser(e){var t=this;return(0,u.Z)(function*(){if(t.isLoading=!0,e.preventDefault(),t.loginForm.valid)try{if((yield t.authService.userAlreadyExists(t.loginForm.get("email").value)).empty)t.openModalError({title:"Email not found",description:"This account no is register"});else{const e=t.loginForm.get("email").value,i=t.loginForm.get("password").value;t.authService.loginUserByEmailAndPassword(e,i).then(()=>t.router.navigate(["/app"])).catch(()=>t.openModalError({title:"Wrong credentials",description:"Check your credentials"}))}}catch(i){t.openModalError({title:"Application error",description:i.toString()})}finally{t.isLoading=!1}})()}loginUserSocial(e){this.authService.getSocialProvider(e).then(t=>this.registerOrLoginUser(t,e)).catch(e=>this.handleAuthErrors(e.code))}registerOrLoginUser(e,t){var i=this;return(0,u.Z)(function*(){if(e.additionalUserInfo.isNewUser){const r=i.authService.buildUserBySocialProvider(e,t);yield i.authService.createUserFirestore(r),yield i.router.navigate(["app"])}else yield i.router.navigate(["/app"])})()}openModalError(e){this.dialog.open(h,{data:e})}handleAuthErrors(e){switch(e){case"auth/account-exists-with-different-credential":return this.openModalError({title:"Email already exists",description:"This email is already in use please use another and try again"});case"auth/popup-closed-by-user":return this.openModalError({title:"Process incomplete",description:"Process aborted by user"});default:return this.openModalError({title:"Application error",description:"Unexpected error"})}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(p.qu),n.Y36(f.e),n.Y36(d.uw),n.Y36(o.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-login"]],decls:24,vars:2,consts:[[1,"wrapper"],[1,"row","wrapper-ext"],[1,"col-md-6"],[1,"title","text-dark"],[1,"text-dark"],["action","",1,"form-space",3,"formGroup"],["appearance","fill",1,"input-fill"],["type","email","required","","placeholder","example@talky.com","matInput","","formControlName","email"],["type","password","required","","placeholder","**********","matInput","","formControlName","password"],["mat-flat-button","","color","primary",1,"button-big","button-fill","button-space",3,"disabled","click"],[1,"form-space","text-social","text-dark"],[1,"social-container"],["src","assets/img/google.png","alt","google",1,"social-img",3,"click"],["src","assets/img/facebook.png","alt","facebook",1,"social-img",3,"click"],["src","assets/img/twitter.png","alt","twitter",1,"social-img",3,"click"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"h1",3),n._uU(4," Login "),n.qZA(),n.TgZ(5,"p",4),n._uU(6," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci aperiam asperiores atque cum cupiditate dolorem, eius esse, iure minima nesciunt obcaecati quibusdam saepe sapiente "),n.qZA(),n.TgZ(7,"form",5),n.TgZ(8,"mat-form-field",6),n.TgZ(9,"mat-label"),n._uU(10,"Email"),n.qZA(),n._UZ(11,"input",7),n.qZA(),n.TgZ(12,"mat-form-field",6),n.TgZ(13,"mat-label"),n._uU(14,"Password"),n.qZA(),n._UZ(15,"input",8),n.qZA(),n.TgZ(16,"button",9),n.NdJ("click",function(e){return t.emailLoginUser(e)}),n._uU(17," Login "),n.qZA(),n.qZA(),n.TgZ(18,"h2",10),n._uU(19," Continue with "),n.qZA(),n.TgZ(20,"div",11),n.TgZ(21,"img",12),n.NdJ("click",function(){return t.loginUserSocial(t.google)}),n.qZA(),n.TgZ(22,"img",13),n.NdJ("click",function(){return t.loginUserSocial(t.facebook)}),n.qZA(),n.TgZ(23,"img",14),n.NdJ("click",function(){return t.loginUserSocial(t.twitter)}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(7),n.Q6J("formGroup",t.loginForm),n.xp6(9),n.Q6J("disabled",t.isLoading||t.loginForm.invalid))},directives:[p._Y,p.JL,p.sg,Z.KE,Z.hX,y.Nt,p.Fj,p.Q7,p.JJ,p.u,l.lW],styles:[".title[_ngcontent-%COMP%]{font-size:48px;line-height:120%;font-weight:800}.text-dark[_ngcontent-%COMP%]{color:#747474}.wrapper-ext[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:90vh}.form-space[_ngcontent-%COMP%]{margin-top:36px}.button-space[_ngcontent-%COMP%]{margin-top:18px}.text-social[_ngcontent-%COMP%]{text-align:center;font-weight:800}.button-fill[_ngcontent-%COMP%], .input-fill[_ngcontent-%COMP%]{width:100%}.social-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.social-img[_ngcontent-%COMP%]{max-width:48px;max-height:48px;cursor:pointer}"]}),e})();var v=i(9829);const x=[{path:"",component:c,children:[{path:"",component:g},{path:"login",component:b},{path:"sign-up",component:(()=>{class e{constructor(e,t,i,r,o){this.authService=e,this.formBuilder=t,this.dialog=i,this.router=r,this.angularFireAuth=o,this.email=m.Q.EMAIL,this.google=m.Q.GOOGLE,this.twitter=m.Q.TWITTER,this.facebook=m.Q.FACEBOOK,this.isLoading=!1}ngOnInit(){this.registerForm=this.formBuilder.group({name:[null,[p.kI.required,p.kI.minLength(6)]],email:[null,[p.kI.required,p.kI.minLength(6),p.kI.email]],password:[null,[p.kI.required,p.kI.minLength(6)]]})}registerUserByEmail(e){var t=this;return(0,u.Z)(function*(){if(e.preventDefault(),t.isLoading=!0,t.registerForm.valid)try{(yield t.authService.userAlreadyExists(t.registerForm.get("email").value)).empty?(yield t.authService.registerEmailUser({name:t.registerForm.get("name").value,email:t.registerForm.get("email").value,registerBy:m.Q.EMAIL,password:t.registerForm.get("password").value}),yield t.router.navigate(["/app"])):t.openDialogError("Email already in use","This email is already register please try with another email")}catch(i){t.openDialogError("Unexpected error",i.toString())}finally{t.isLoading=!1}})()}openDialogError(e,t){this.dialog.open(h,{data:{title:e,description:t}})}registerUserBySocial(e){this.authService.getSocialProvider(e).then(t=>{this.saveUserSocial(t,e).catch(()=>this.openDialogError("Email already in use","This email is already register please try with another email"))}).catch(()=>{this.openDialogError("Process incomplete","Process canceled by user")})}saveUserSocial(e,t){var i=this;return(0,u.Z)(function*(){const r=i.authService.buildUserBySocialProvider(e,t);if((yield i.authService.userAlreadyExists(r.email)).empty)yield i.authService.createUserFirestore(r),yield i.router.navigate(["/app"]);else{i.openDialogError("Email already in use","This email is already register please try with another email");const e=yield i.angularFireAuth.currentUser;yield e.delete()}})()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(f.e),n.Y36(p.qu),n.Y36(d.uw),n.Y36(o.F0),n.Y36(v.zQ))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-sign-up"]],decls:28,vars:2,consts:[[1,"wrapper"],[1,"row","wrapper-ext"],[1,"col-md-6"],[1,"title","text-dark"],[1,"text-dark"],["action","",1,"form-space",3,"formGroup"],["appearance","fill",1,"input-fill"],["type","text","placeholder","Example: Christopher Gerardy","matInput","","formControlName","name","required",""],["type","email","required","","placeholder","example@talky.com","matInput","","formControlName","email"],["type","password","required","","placeholder","**********","matInput","","formControlName","password"],["mat-flat-button","","color","primary",1,"button-big","button-fill","button-space",3,"disabled","click"],[1,"form-space","text-social","text-dark"],[1,"social-container"],["src","assets/img/google.png","alt","google",1,"social-img",3,"click"],["src","assets/img/facebook.png","alt","facebook",1,"social-img",3,"click"],["src","assets/img/twitter.png","alt","twitter",1,"social-img",3,"click"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"h1",3),n._uU(4," Sign Up "),n.qZA(),n.TgZ(5,"p",4),n._uU(6," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci aperiam asperiores atque cum cupiditate dolorem, eius esse, iure minima nesciunt obcaecati quibusdam saepe sapiente "),n.qZA(),n.TgZ(7,"form",5),n.TgZ(8,"mat-form-field",6),n.TgZ(9,"mat-label"),n._uU(10,"Names"),n.qZA(),n._UZ(11,"input",7),n.qZA(),n.TgZ(12,"mat-form-field",6),n.TgZ(13,"mat-label"),n._uU(14,"Email"),n.qZA(),n._UZ(15,"input",8),n.qZA(),n.TgZ(16,"mat-form-field",6),n.TgZ(17,"mat-label"),n._uU(18,"Password"),n.qZA(),n._UZ(19,"input",9),n.qZA(),n.TgZ(20,"button",10),n.NdJ("click",function(e){return t.registerUserByEmail(e)}),n._uU(21," Sign up "),n.qZA(),n.qZA(),n.TgZ(22,"h2",11),n._uU(23," Continue with "),n.qZA(),n.TgZ(24,"div",12),n.TgZ(25,"img",13),n.NdJ("click",function(){return t.registerUserBySocial(t.google)}),n.qZA(),n.TgZ(26,"img",14),n.NdJ("click",function(){return t.registerUserBySocial(t.facebook)}),n.qZA(),n.TgZ(27,"img",15),n.NdJ("click",function(){return t.registerUserBySocial(t.twitter)}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(7),n.Q6J("formGroup",t.registerForm),n.xp6(13),n.Q6J("disabled",!t.registerForm.valid||t.isLoading))},directives:[p._Y,p.JL,p.sg,Z.KE,Z.hX,y.Nt,p.Fj,p.JJ,p.u,p.Q7,l.lW],styles:[".title[_ngcontent-%COMP%]{font-size:48px;line-height:120%;font-weight:800}.text-dark[_ngcontent-%COMP%]{color:#747474}.wrapper-ext[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:90vh}.form-space[_ngcontent-%COMP%]{margin-top:36px}.button-space[_ngcontent-%COMP%]{margin-top:18px}.text-social[_ngcontent-%COMP%]{text-align:center;font-weight:800}.button-fill[_ngcontent-%COMP%], .input-fill[_ngcontent-%COMP%]{width:100%}.social-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.social-img[_ngcontent-%COMP%]{max-width:48px;max-height:48px;cursor:pointer}"]}),e})()}]}];let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[o.Bz.forChild(x)],o.Bz]}),e})();var w=i(4466),A=i(898);let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[r.ez,q,w.m,A.q,p.u5,p.UX]]}),e})()}}]);